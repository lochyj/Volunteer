<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User</title>
</head>
<body>
    <div>
        User Page
        <div id="userDiv">

        </div>
    </div>
    <script src="/global.js"></script>
    <script>
        const userDiv = document.getElementById("userDiv");
        var url = window.location.pathname;

        var urlSplit = url.split("/");

        if (urlSplit.length < 3) {
            window.location.href = "/app/homepage.html";
        }

        var id = urlSplit[3];

        console.log("sent")

        fetch(`/api/user/${id}/`)
            .then(response => response.json())
            .then(data => {
                console.log(data);

                if (data.error) {
                    window.location.href = "/app/homepage.html";
                }
                else {
                    displayUser(data, userDiv);
                }
            });

    </script>
</body>
</html>